<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="/static/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="/static/css/app.css">
	<script type="text/javascript" src="/static/angular/angular.js"></script>
	<script type="text/javascript" src="/static/js/app.js"></script>
	<title></title>
</head>
<body ng-app="app" ng-controller="MainCtrl">
	<!-- info for developers -->
	<!--
	<p>GAMES: {{games}}</p>
	<p>CURRENT GAME : {{active_game}}</p>
	<p>RESPONSE: {{response}}</p>
	-->

	<div ng-show="user_set == false">
		<div class="container initial">
			<form id='participant-data' ng-submit="save_user()" >
				<p>Hello! Please fill out the following information:</p>
				<label> Age: </label>
				<input type='number' ng-model="response.participant.age">
				<label> Gender:</label>
				<select ng-model="response.participant.gender">
					<option value="M">Male</option>
					<option value="F">Female</option>
				</select>

				<button type="submit" class="btn btn-success">Submit</button>
			</form>
		</div>
	</div>


	<div ng-show="user_set == true && intermission == false" 
		ng-repeat="puzzle in games[active_game].puzzles">

	<!-- display one question at a time -->
	<div ng-show="$index == active_puzzle && load_screen == false;">
		<div class="container question">
			<h1>	{{puzzle.question}} </h1>
				<div ng-repeat="answer in puzzle.answers" class="col-xs-6">
					<a type="radio" data-id="{{answer.id}}" name='test' class="answer" ng-click="$parent.$parent.selected_answer = answer.id;save_response(games[active_game].id, puzzle.id)" ng-model="$parent.$parent.selected_answer">
						{{answer.text}}
					</a>
				</div>
		</div>
	</div>
	
	</div>


	<!-- loading widget -->
	<div ng-show="load_screen == true;">
		<div class="cssload-thecube">
			<div class="cssload-cube cssload-c1"></div>
			<div class="cssload-cube cssload-c2"></div>
			<div class="cssload-cube cssload-c4"></div>
			<div class="cssload-cube cssload-c3"></div>
		</div>
	</div>

	<!-- intermission -->
	<div ng-show="intermission == true;">
		<p> Please click when you are ready for the next game. </p>
		<button ng-click="continue()">Continue</button>
	</div>

<script type="text/javascript">
    window.onbeforeunload = function() {
        return "If you leave this page, your results will not be recorded!";
    }
</script>

</body>
</html>